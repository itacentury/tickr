<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no"
    />
    <meta name="theme-color" content="#0a0a0a" />
    <meta name="description" content="Deine Aufgaben, einfach erledigt" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta name="apple-mobile-web-app-title" content="Tickr" />

    <title>Tickr</title>

    <link rel="manifest" href="/manifest.json" />
    <link rel="icon" type="image/svg+xml" href="/static/icons/icon.svg" />
    <link rel="apple-touch-icon" href="/static/icons/icon-192.png" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;1,9..40,400&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="/static/css/style.css" />
  </head>
  <body>
    <div class="app">
      <!-- Sidebar Navigation -->
      <nav class="sidebar" id="sidebar">
        <div class="sidebar-header">
          <button
            class="toggle-btn"
            id="toggleSidebar"
            aria-label="Navigation umschalten"
          >
            <svg
              class="icon-menu"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <line x1="3" y1="6" x2="21" y2="6"></line>
              <line x1="3" y1="12" x2="21" y2="12"></line>
              <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
          </button>
          <span class="sidebar-title">Listen</span>
        </div>

        <ul class="nav-list" id="navList">
          <!-- Lists will be populated by JS -->
        </ul>

        <div class="sidebar-footer">
          <button class="add-list-btn" id="addListBtn" title="Neue Liste">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <line x1="12" y1="5" x2="12" y2="19"></line>
              <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
            <span>Neue Liste</span>
          </button>
        </div>
      </nav>

      <!-- Main Content -->
      <main class="main-content">
        <header class="header">
          <button
            class="mobile-menu-btn"
            id="mobileMenuBtn"
            aria-label="Menü öffnen"
          >
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <line x1="3" y1="6" x2="21" y2="6"></line>
              <line x1="3" y1="12" x2="21" y2="12"></line>
              <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
          </button>
          <h1 class="list-title" id="listTitle">Todos</h1>
          <div class="header-actions">
            <button
              class="edit-list-btn"
              id="editListBtn"
              title="Liste bearbeiten"
            >
              <svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path
                  d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"
                ></path>
                <path
                  d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"
                ></path>
              </svg>
            </button>
            <button
              class="history-btn"
              id="historyBtn"
              title="Verlauf anzeigen"
            >
              <svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <circle cx="12" cy="12" r="10"></circle>
                <polyline points="12 6 12 12 16 14"></polyline>
              </svg>
            </button>
            <button
              class="delete-list-btn"
              id="deleteListBtn"
              title="Liste löschen"
            >
              <svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <polyline points="3 6 5 6 21 6"></polyline>
                <path
                  d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"
                ></path>
              </svg>
            </button>
          </div>
        </header>

        <!-- Add Item Form -->
        <form class="add-item-form" id="addItemForm">
          <input
            type="text"
            class="add-item-input"
            id="addItemInput"
            placeholder="Neues Element hinzufügen..."
            autocomplete="off"
          />
          <button type="submit" class="add-item-btn" aria-label="Hinzufügen">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <line x1="12" y1="5" x2="12" y2="19"></line>
              <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
          </button>
        </form>

        <!-- Items List -->
        <ul class="items-list" id="itemsList">
          <!-- Items will be populated by JS -->
        </ul>

        <!-- Empty State -->
        <div class="empty-state" id="emptyState">
          <svg
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="1.5"
          >
            <path
              d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"
            ></path>
          </svg>
          <p>Diese Liste ist leer</p>
          <span>Füge dein erstes Element hinzu</span>
        </div>
      </main>

      <!-- History Panel -->
      <aside class="history-panel" id="historyPanel">
        <div class="history-header">
          <h2>Verlauf</h2>
          <button
            class="close-history-btn"
            id="closeHistoryBtn"
            aria-label="Schließen"
          >
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </div>
        <ul class="history-list" id="historyList">
          <!-- History will be populated by JS -->
        </ul>
      </aside>

      <!-- Overlay for mobile -->
      <div class="overlay" id="overlay"></div>
    </div>

    <!-- Modal for new list -->
    <div class="modal" id="newListModal">
      <div class="modal-content">
        <h2>Neue Liste erstellen</h2>
        <form id="newListForm">
          <input
            type="text"
            id="newListName"
            placeholder="Name der Liste"
            autocomplete="off"
            required
          />
          <div class="icon-picker">
            <p>Icon wählen:</p>
            <div class="icon-options" id="iconOptions">
              <button
                type="button"
                class="icon-option"
                data-icon="list"
                title="Liste"
              >
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <line x1="8" y1="6" x2="21" y2="6"></line>
                  <line x1="8" y1="12" x2="21" y2="12"></line>
                  <line x1="8" y1="18" x2="21" y2="18"></line>
                  <line x1="3" y1="6" x2="3.01" y2="6"></line>
                  <line x1="3" y1="12" x2="3.01" y2="12"></line>
                  <line x1="3" y1="18" x2="3.01" y2="18"></line>
                </svg>
              </button>
              <button
                type="button"
                class="icon-option"
                data-icon="cart"
                title="Einkaufen"
              >
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <circle cx="9" cy="21" r="1"></circle>
                  <circle cx="20" cy="21" r="1"></circle>
                  <path
                    d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"
                  ></path>
                </svg>
              </button>
              <button
                type="button"
                class="icon-option"
                data-icon="check"
                title="Aufgaben"
              >
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <polyline points="9 11 12 14 22 4"></polyline>
                  <path
                    d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"
                  ></path>
                </svg>
              </button>
              <button
                type="button"
                class="icon-option"
                data-icon="lightbulb"
                title="Ideen"
              >
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path d="M9 18h6"></path>
                  <path d="M10 22h4"></path>
                  <path
                    d="M15.09 14c.18-.98.65-1.74 1.41-2.5A4.65 4.65 0 0 0 18 8 6 6 0 0 0 6 8c0 1 .23 2.23 1.5 3.5A4.61 4.61 0 0 1 8.91 14"
                  ></path>
                </svg>
              </button>
              <button
                type="button"
                class="icon-option"
                data-icon="star"
                title="Wichtig"
              >
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <polygon
                    points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"
                  ></polygon>
                </svg>
              </button>
              <button
                type="button"
                class="icon-option"
                data-icon="heart"
                title="Favoriten"
              >
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path
                    d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"
                  ></path>
                </svg>
              </button>
              <button
                type="button"
                class="icon-option"
                data-icon="home"
                title="Zuhause"
              >
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path
                    d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"
                  ></path>
                  <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
              </button>
              <button
                type="button"
                class="icon-option"
                data-icon="briefcase"
                title="Arbeit"
              >
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                  <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
                </svg>
              </button>
            </div>
          </div>
          <div class="modal-actions">
            <button type="button" class="btn-cancel" id="cancelNewList">
              Abbrechen
            </button>
            <button type="submit" class="btn-create">Erstellen</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal for editing list -->
    <div class="modal" id="editListModal">
      <div class="modal-content">
        <h2>Liste bearbeiten</h2>
        <form id="editListForm">
          <input
            type="text"
            id="editListName"
            placeholder="Name der Liste"
            autocomplete="off"
            required
          />
          <div class="icon-picker">
            <p>Icon wählen:</p>
            <div class="icon-options" id="editIconOptions">
              <button
                type="button"
                class="icon-option"
                data-icon="list"
                title="Liste"
              >
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <line x1="8" y1="6" x2="21" y2="6"></line>
                  <line x1="8" y1="12" x2="21" y2="12"></line>
                  <line x1="8" y1="18" x2="21" y2="18"></line>
                  <line x1="3" y1="6" x2="3.01" y2="6"></line>
                  <line x1="3" y1="12" x2="3.01" y2="12"></line>
                  <line x1="3" y1="18" x2="3.01" y2="18"></line>
                </svg>
              </button>
              <button
                type="button"
                class="icon-option"
                data-icon="cart"
                title="Einkaufen"
              >
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <circle cx="9" cy="21" r="1"></circle>
                  <circle cx="20" cy="21" r="1"></circle>
                  <path
                    d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"
                  ></path>
                </svg>
              </button>
              <button
                type="button"
                class="icon-option"
                data-icon="check"
                title="Aufgaben"
              >
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <polyline points="9 11 12 14 22 4"></polyline>
                  <path
                    d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"
                  ></path>
                </svg>
              </button>
              <button
                type="button"
                class="icon-option"
                data-icon="lightbulb"
                title="Ideen"
              >
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path d="M9 18h6"></path>
                  <path d="M10 22h4"></path>
                  <path
                    d="M15.09 14c.18-.98.65-1.74 1.41-2.5A4.65 4.65 0 0 0 18 8 6 6 0 0 0 6 8c0 1 .23 2.23 1.5 3.5A4.61 4.61 0 0 1 8.91 14"
                  ></path>
                </svg>
              </button>
              <button
                type="button"
                class="icon-option"
                data-icon="star"
                title="Wichtig"
              >
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <polygon
                    points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"
                  ></polygon>
                </svg>
              </button>
              <button
                type="button"
                class="icon-option"
                data-icon="heart"
                title="Favoriten"
              >
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path
                    d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"
                  ></path>
                </svg>
              </button>
              <button
                type="button"
                class="icon-option"
                data-icon="home"
                title="Zuhause"
              >
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path
                    d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"
                  ></path>
                  <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
              </button>
              <button
                type="button"
                class="icon-option"
                data-icon="briefcase"
                title="Arbeit"
              >
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                  <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
                </svg>
              </button>
            </div>
          </div>
          <div class="modal-actions">
            <button type="button" class="btn-cancel" id="cancelEditList">
              Abbrechen
            </button>
            <button type="submit" class="btn-create">Speichern</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal for editing item -->
    <div class="modal" id="editItemModal">
      <div class="modal-content">
        <h2>Eintrag bearbeiten</h2>
        <form id="editItemForm">
          <input
            type="text"
            id="editItemText"
            placeholder="Text des Eintrags"
            autocomplete="off"
            required
          />
          <div class="modal-actions">
            <button type="button" class="btn-cancel" id="cancelEditItem">
              Abbrechen
            </button>
            <button type="submit" class="btn-create">Speichern</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal for delete confirmation -->
    <div class="modal" id="deleteConfirmModal">
      <div class="modal-content">
        <h2 id="deleteConfirmTitle">Löschen bestätigen</h2>
        <p id="deleteConfirmMessage" class="delete-confirm-message"></p>
        <div class="modal-actions">
          <button type="button" class="btn-cancel" id="cancelDelete">
            Abbrechen
          </button>
          <button type="button" class="btn-delete" id="confirmDelete">
            Löschen
          </button>
        </div>
      </div>
    </div>

    <script src="/static/js/app.js"></script>
  </body>
</html>
